{% extends 'base.html.twig' %}

{% block body %}
    <h1>Mon Panier</h1>

    {% if cartItems is not empty %}
        <div class="cart-container">
            {% for item in cartItems %}
                <div class="cart-item">
                    <div class="cart-item-image">
                        <img src="{{ asset('images/' ~ item.sweatshirt.image) }}" alt="{{ item.sweatshirt.name }}">
                    </div>
                    <div class="cart-item-details">
                        <h3>{{ item.sweatshirt.name }}</h3>
                        <div class="cart-item-info">
                            <p>Taille : {{ item.size }}</p>
                            <p>Prix : {{ item.sweatshirt.price }} €</p>
                        </div>
                    </div>
                    <div class="cart-item-remove">
                        <form action="{{ path('remove_from_cart', {id: item.sweatshirt.id, size: item.size}) }}" method="post">
                            <button type="submit" class="btn">Retirer du panier</button>
                        </form>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="cart-summary">
            <h2>Total : {{ totalPrice }} €</h2>
            <a href="{{ path('app_products') }}" class="btn">Finaliser ma commande</a>
            <br><br>
            <a href="{{ path('app_products') }}" class="btn">Continuer mes achats</a>
        </div>
    {% else %}
        <p>Votre panier est vide.</p>
        <a href="{{ path('app_products') }}" class="btn">Continuer mes achats</a>
    {% endif %}
{% endblock %}
